<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>impavi.de - web</title>
        <link rel="stylesheet" href="http://localhost:8181/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://localhost:8181/">impavi.de</a></h1>
                <nav><ul>
                    <li><a href="http://localhost:8181/category/articles-en-francais-les-etats-dan-etats-dame-blog.html">Articles en français · Les états « Dan » (états d'âme) (blog)</a></li>
                    <li><a href="http://localhost:8181/category/articles-en-francais-publik-le-connecteur-citoyen.html">Articles en français · Publik · Le connecteur citoyen</a></li>
                    <li><a href="http://localhost:8181/category/general-development-tricks.html">General development tricks</a></li>
                    <li><a href="http://localhost:8181/category/pelican-static-site-generator.html">Pelican Static Site Generator</a></li>
                    <li><a href="http://localhost:8181/category/python-tricks-automation-and-web-scraping.html">Python tricks, automation and web scraping</a></li>
                    <li><a href="http://localhost:8181/category/uxui.html">UX/UI</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://localhost:8181/how-to-scrap-favicon-from-a-website-using-python-en.html">How to scrap favicon from a website using Python</a></h1>
<footer class="post-info">
        <abbr class="published" title="2022-10-16T14:26:00+02:00">
                Published: dim 16 octobre 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://localhost:8181/author/daniel-muyshond.html">Daniel Muyshond</a>
        </address>
<p>In <a href="http://localhost:8181/category/python-tricks-automation-and-web-scraping.html">Python tricks, automation and web scraping</a>.</p>
<p>tags: <a href="http://localhost:8181/tag/python.html">python</a> <a href="http://localhost:8181/tag/web.html">web</a> <a href="http://localhost:8181/tag/favicon.html">favicon</a> <a href="http://localhost:8181/tag/scraping.html">scraping</a> </p>
</footer><!-- /.post-info --><h2>The context of scraping favicons</h2>
<p>During my work, I often have to initiate graphical themes for our clients and look for their assets (logo, favicon, etc.).
It doesn's take long time to connect to the website and download the favicon, but it's a bit boring to do it manually.
If it can be automated, why not?</p>
<h2>The script to scrap favicons</h2>
<p>Here is the code snippet I just generated to scrap favicons from websites.
It takes a url as input and downloads the favicon in the current directory.</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Scrap favicon asset from a website.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlparse</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="k">def</span> <span class="nf">scrap_favicon</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Scrap favicon from a website.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get the domain name</span>
    <span class="n">domain_name</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span>
    <span class="c1"># Get the favicon url</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="n">favicon_url</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="s1">&#39;shortcut icon&#39;</span><span class="p">)[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
    <span class="c1"># Download the favicon</span>
    <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">favicon_url</span><span class="p">,</span> <span class="s1">&#39;favicon&#39;</span> <span class="o">+</span> <span class="s1">&#39;.ico&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Usage: python3 scrap_favicon.py &lt;url&gt;&#39;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">scrap_favicon</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>

<h2>Conclusion</h2>
<p>I now have a script that scrap favicons from websites and so you are welcome to use or adjust it following your needs too.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://localhost:8181/how-to-fetch-youtube-subs-using-python-and-youtube-transcript-api-pip-pkg-en.html" rel="bookmark"
                           title="Permalink to How to Fetch YouTube subs using Python and youtube-transcript-api (pip pkg)">How to Fetch YouTube subs using Python and youtube-transcript-api (pip pkg)</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-06-09T00:00:00+02:00">
                Published: jeu 09 juin 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://localhost:8181/author/daniel-muyshond.html">Daniel Muyshond</a>
        </address>
<p>In <a href="http://localhost:8181/category/python-tricks-automation-and-web-scraping.html">Python tricks, automation and web scraping</a>.</p>
<p>tags: <a href="http://localhost:8181/tag/python.html">python</a> <a href="http://localhost:8181/tag/web.html">web</a> <a href="http://localhost:8181/tag/youtube.html">YouTube</a> <a href="http://localhost:8181/tag/transcription.html">Transcription</a> <a href="http://localhost:8181/tag/video.html">video</a> <a href="http://localhost:8181/tag/subtitles.html">subtitles</a> </p>
</footer><!-- /.post-info -->                <p>It is a small test of that python package that allows to fetch YouTube subtitles, even if they are automated, which is pretty cool.</p>
                <a class="readmore" href="http://localhost:8181/how-to-fetch-youtube-subs-using-python-and-youtube-transcript-api-pip-pkg-en.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h3>Links</h3>
                        <ul>
                            <li><a href="http://localhost:8181/archives.html">Archives (all articles)</a></li>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h3>Social</h3>
                        <ul>

                            <li><a href="https://www.linkedin.com/in/danielmuyshond/">LinkedIn</a></li>
                            <li><a href="https://twitter.com/_dmshd">Twitter</a></li>
                            <li><a href="https://www.youtube.com/c/DanielMuyshond">YouTube</a></li>
                            <li><a href="https://www.instagram.com/d.mshd_/">Instagram</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

<p>The theme is custom-made with parts of  <a href="https://www.swyx.io/css-100-bytes">100 Bytes of CSS to look great everywhere</a>, from <a href="https://www.swyx.io/about">swyx</a>, and <a href="https://github.com/getpelican/pelican/tree/master/pelican/themes/notmyidea/templates">templates of 'notmyidea' Pelican default theme</a>, thanks!</p>        </footer><!-- /#contentinfo -->

</body>
</html>